<!DOCTYPE html>
<html>
<head>
    <title>Seal Murderer - GitHub Edition</title>
    <style>
        body { background: #1a1a1a; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; overflow: hidden; font-family: 'Courier New', Courier, monospace; }
        canvas { border: 4px solid #fff; background: #333; image-rendering: pixelated; }
        #ui { position: absolute; top: 10px; color: white; text-align: center; pointer-events: none; width: 100%; }
    </style>
</head>
<body>
    <div id="ui"><h1>SEAL MURDERER</h1><p>ARROWS to move | SPACE to Kill (if Murderer)</p><div id="status">Role: Assigning...</div></div>
    <canvas id="gameCanvas"></canvas>

<script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = 600; canvas.height = 400;

    // --- GAME STATE ---
    let player = { x: 50, y: 50, size: 30, color: '#00ccff', role: Math.random() > 0.5 ? 'Murderer' : 'Bystander' };
    let npcs = [
        { x: 300, y: 200, size: 30, color: '#ffcc00', alive: true },
        { x: 500, y: 100, size: 30, color: '#00ff66', alive: true },
        { x: 400, y: 300, size: 30, color: '#ff66ff', alive: true }
    ];

    document.getElementById('status').innerText = "Role: " + player.role;

    // --- INPUTS ---
    let keys = {};
    window.onkeydown = (e) => keys[e.code] = true;
    window.onkeyup = (e) => keys[e.code] = false;

    function gameLoop() {
        // 1. MOVEMENT (Arrow Keys)
        if (keys['ArrowUp'] && player.y > 0) player.y -= 4;
        if (keys['ArrowDown'] && player.y < canvas.height - player.size) player.y += 4;
        if (keys['ArrowLeft'] && player.x > 0) player.x -= 4;
        if (keys['ArrowRight'] && player.x < canvas.width - player.size) player.x += 4;

        // 2. KILL LOGIC (Space)
        if (keys['Space'] && player.role === 'Murderer') {
            npcs.forEach(n => {
                let dist = Math.hypot(player.x - n.x, player.y - n.y);
                if (dist < 40) n.alive = false;
            });
        }

        draw();
        requestAnimationFrame(gameLoop);
    }

    function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        // Draw NPCs (The other seals)
        npcs.forEach(n => {
            ctx.fillStyle = n.alive ? n.color : '#555'; // Dead = Grey
            ctx.fillRect(n.x, n.y, n.size, n.size);
            if (!n.alive) { ctx.fillStyle = "white"; ctx.fillText("X X", n.x + 5, n.y + 15); }
        });

        // Draw Player (The Seal)
        ctx.fillStyle = player.color;
        ctx.fillRect(player.x, player.y, player.size, player.size);
        ctx.strokeStyle = "white";
        ctx.strokeRect(player.x, player.y, player.size, player.size);
    }

    gameLoop();
</script>
</body>
</html>
